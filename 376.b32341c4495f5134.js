"use strict";(self.webpackChunkbabiChechaDashboard=self.webpackChunkbabiChechaDashboard||[]).push([[376],{4376:(ge,v,u)=>{u.r(v),u.d(v,{ShowtenantuserModule:()=>me});var m=u(6895),w=u(9197),U=u(7579),i=u(4006),c=u(5412),e=u(4650),x=u(529);let h=(()=>{class s{constructor(t){this.http=t}getAllTenantsUser(){return this.http.get("http://108.181.201.213:7080/api/Users/Users")}getAllTenantModulesPermissions(){return this.http.get("http://108.181.201.213:7080/api/Modules/TenantModulesPermissions")}regsisterUser(t){return this.http.post("http://108.181.201.213:7080/api/Users/Register",t)}updateUser(t){return this.http.post("http://108.181.201.213:7080/api/Users/UpdateUserDetails",t)}ModifyUserPermissions(t){return this.http.post("http://108.181.201.213:7080/api/Permissions/ModifyUserPermissions",t)}resestPasswordUser(t){return this.http.post("http://108.181.201.213:7080/api/Users/ResetPassword",t)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(x.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var b=u(2018);function A(s,o){1&s&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6),e._UZ(3,"span")(4,"span"),e.qZA()()())}function C(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," The User Name Is Required! "),e.qZA())}function q(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," The Email Is Required! "),e.qZA())}function y(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," The Password Is Required! "),e.qZA())}function N(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," Passwords must be at least 6 characters. "),e.qZA())}function F(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," Passwords must have at least one uppercase ('A'-'Z'). "),e.qZA())}function I(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," Passwords must have at least one lowercase ('a'-'z'). "),e.qZA())}function P(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addUser())}),e._uU(1,"Add"),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("disabled",t.regsiterForm.invalid)}}function J(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"form",7)(1,"div",8)(2,"label",9),e._uU(3,"User Name"),e.qZA(),e.TgZ(4,"div",10)(5,"span",11),e._UZ(6,"i",12),e.qZA(),e._UZ(7,"input",13),e.qZA(),e.YNc(8,C,4,0,"div",14),e.qZA(),e.TgZ(9,"div",8)(10,"label",15),e._uU(11,"Email"),e.qZA(),e.TgZ(12,"div",10)(13,"span",16),e._UZ(14,"i",17),e.qZA(),e._UZ(15,"input",18),e.TgZ(16,"span",19),e._uU(17,"@example.com"),e.qZA()(),e.YNc(18,q,4,0,"div",14),e.qZA(),e.TgZ(19,"div",8)(20,"label",20),e._uU(21,"Phone Number"),e.qZA(),e.TgZ(22,"div",10)(23,"span",16),e._UZ(24,"i",21),e.qZA(),e._UZ(25,"input",22),e.qZA()(),e.TgZ(26,"div",8)(27,"label",23),e._uU(28,"Password"),e.qZA(),e.TgZ(29,"div",10),e._UZ(30,"input",24),e.TgZ(31,"span",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.viewpass())}),e._UZ(32,"i",26),e.qZA()(),e.YNc(33,y,4,0,"div",14),e.YNc(34,N,4,0,"div",14),e.YNc(35,F,4,0,"div",14),e.YNc(36,I,4,0,"div",14),e.qZA(),e.TgZ(37,"div",27),e.YNc(38,P,2,1,"button",28),e.TgZ(39,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e._uU(40,"Cancel"),e.qZA()()()}if(2&s){const t=e.oxw();let r,n,d,a,l,p;e.Q6J("formGroup",t.regsiterForm),e.xp6(8),e.Q6J("ngIf",(null==(r=t.regsiterForm.get("userName"))?null:r.touched)&&(null==(r=t.regsiterForm.get("userName"))?null:r.invalid)),e.xp6(10),e.Q6J("ngIf",(null==(n=t.regsiterForm.get("email"))?null:n.touched)&&(null==(n=t.regsiterForm.get("email"))?null:n.invalid)),e.xp6(12),e.Q6J("type",t.changetype?"password":"text"),e.xp6(2),e.Q6J("ngClass",t.visible?"ti ti-eye-off":"ti ti-eye"),e.xp6(1),e.Q6J("ngIf",(null==(d=t.regsiterForm.get("password"))?null:d.touched)&&(null==(d=t.regsiterForm.get("password"))||null==d.errors?null:d.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.regsiterForm.get("password"))?null:a.touched)&&(null==(a=t.regsiterForm.get("password"))||null==a.errors?null:a.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(l=t.regsiterForm.get("password"))?null:l.touched)&&(null==(l=t.regsiterForm.get("password"))||null==l.errors?null:l.errors.upperCase)),e.xp6(1),e.Q6J("ngIf",(null==(p=t.regsiterForm.get("password"))?null:p.touched)&&(null==(p=t.regsiterForm.get("password"))||null==p.errors?null:p.errors.lowerCase)),e.xp6(2),e.Q6J("ngIf",!t.data)}}function R(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," The User Name Is Required! "),e.qZA())}function k(s,o){1&s&&(e.TgZ(0,"div",30)(1,"span",31),e._UZ(2,"i",32),e.qZA(),e._uU(3," The Email Is Required! "),e.qZA())}function Y(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateUser())}),e._uU(1,"Update"),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("disabled",t.regsiterFormUpdate.invalid)}}function B(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"form",7)(1,"div",8),e._UZ(2,"input",34),e.TgZ(3,"label",9),e._uU(4,"User Name"),e.qZA(),e.TgZ(5,"div",10)(6,"span",11),e._UZ(7,"i",12),e.qZA(),e._UZ(8,"input",13),e.qZA(),e.YNc(9,R,4,0,"div",14),e.qZA(),e.TgZ(10,"div",8)(11,"label",15),e._uU(12,"Email"),e.qZA(),e.TgZ(13,"div",10)(14,"span",16),e._UZ(15,"i",17),e.qZA(),e._UZ(16,"input",18),e.TgZ(17,"span",19),e._uU(18,"@example.com"),e.qZA()(),e.YNc(19,k,4,0,"div",14),e.qZA(),e.TgZ(20,"div",8)(21,"label",20),e._uU(22,"Phone Number"),e.qZA(),e.TgZ(23,"div",10)(24,"span",16),e._UZ(25,"i",21),e.qZA(),e._UZ(26,"input",22),e.qZA()(),e.TgZ(27,"div",27),e.YNc(28,Y,2,1,"button",35),e.TgZ(29,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e._uU(30,"Cancel"),e.qZA()()()}if(2&s){const t=e.oxw();let r,n;e.Q6J("formGroup",t.regsiterFormUpdate),e.xp6(9),e.Q6J("ngIf",(null==(r=t.regsiterFormUpdate.get("userName"))?null:r.touched)&&(null==(r=t.regsiterFormUpdate.get("userName"))?null:r.invalid)),e.xp6(10),e.Q6J("ngIf",(null==(n=t.regsiterFormUpdate.get("email"))?null:n.touched)&&(null==(n=t.regsiterFormUpdate.get("email"))?null:n.invalid)),e.xp6(9),e.Q6J("ngIf",t.data)}}let T=(()=>{class s{constructor(t,r,n,d,a,l){this.fb=t,this.serv=r,this.data=n,this.toaster=d,this.dialog=a,this.matDialog=l,this.loader=!1,this.visible=!0,this.changetype=!0}ngOnInit(){this.createFormEdit(),this.createFormUpdateEdit()}createFormEdit(){this.regsiterForm=this.fb.group({userName:[this.data?.userName||"",i.kI.required],email:[this.data?.email||"",[i.kI.required,i.kI.email]],password:["",[i.kI.required,this.passwordValidator]],phoneNumber:[this.data?.phoneNumber||""]})}createFormUpdateEdit(){this.regsiterFormUpdate=this.fb.group({id:[this.data?.userId||"",i.kI.required],userName:[this.data?.userName||"",i.kI.required],email:[this.data?.email||"",[i.kI.required,i.kI.email]],phoneNumber:[this.data?.phoneNumber||""]})}passwordValidator(t){const r=t.value;if(!r)return{required:!0};const n=r.length>=6,d=/[A-Z]/.test(r),a=/[a-z]/.test(r),l={};return n||(l.minLength=!0),d||(l.upperCase=!0),a||(l.lowerCase=!0),Object.keys(l).length?l:null}viewpass(){this.visible=!this.visible,this.changetype=!this.changetype}addUser(){this.loader=!0,this.serv.regsisterUser(this.regsiterForm.value).subscribe(t=>{this.dialog.close(!0),this.loader=!1;let r=new Audio;r.src="../../../assets/notification-sound/login.wav",r.load(),r.play(),this.toaster.success("Register User successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3})},t=>{this.loader=!1,this.toaster.error(t?.error?.data||"Username is already taken","",{closeButton:!0,progressBar:!0,timeOut:3e3})})}updateUser(){this.loader=!0,this.serv.updateUser(this.regsiterFormUpdate.value).subscribe(t=>{this.dialog.close(!0),this.loader=!1;let r=new Audio;r.src="../../../assets/notification-sound/login.wav",r.load(),r.play(),this.toaster.success("Update  User successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3})},t=>{this.loader=!1,this.toaster.error(t?.error?.data||"Username is already taken","",{closeButton:!0,progressBar:!0,timeOut:3e3})})}close(){this.matDialog.closeAll()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(i.qu),e.Y36(h),e.Y36(c.WI),e.Y36(b._W),e.Y36(c.so),e.Y36(c.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-regsiter"]],decls:5,vars:3,consts:[["class","preloader",4,"ngIf"],[1,"col-md-12"],[1,"card","mb-4",2,"height","500px"],["class","card-body",3,"formGroup",4,"ngIf"],[1,"preloader"],[1,"preloader-inner"],[1,"preloader-icon"],[1,"card-body",3,"formGroup"],[1,"mb-3"],["for","basic-icon-default-fullname",1,"form-label"],[1,"input-group","input-group-merge"],["id","basic-icon-default-fullname2",1,"input-group-text"],[1,"ti","ti-user"],["type","text","formControlName","userName","id","basic-icon-default-fullname","placeholder","Enter The User Name","aria-label","John Doe","aria-describedby","basic-icon-default-fullname2",1,"form-control"],["class","alert alert-danger d-flex align-items-center","role","alert",4,"ngIf"],["for","basic-icon-default-email",1,"form-label"],[1,"input-group-text"],[1,"ti","ti-mail"],["formControlName","email","type","email","id","basic-icon-default-email","placeholder","Enter The Email","aria-label","john.doe","aria-describedby","basic-icon-default-email2",1,"form-control"],["id","basic-icon-default-email2",1,"input-group-text"],["for","basic-icon-default-phone",1,"form-label"],[1,"ti","ti-phone-call"],["formControlName","phoneNumber","type","text","id","basic-icon-default-phone","placeholder","Enter The Phone Number","aria-label","Phone Number","aria-describedby","basic-icon-default-phone2",1,"form-control"],["for","password",1,"form-label"],["formControlName","password","id","password","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","password",1,"form-control",3,"type"],[1,"input-group-text","cursor-pointer",3,"click"],[2,"font-size","17px",3,"ngClass"],[1,"col-sm-12"],["type","button","class","btn btn-success waves-effect waves-light",3,"disabled","click",4,"ngIf"],["type","reset",1,"btn","btn-danger","waves-effect","waves-light",2,"margin","0px 20px",3,"click"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center"],[1,"alert-icon","text-danger","me-2"],[1,"ti","ti-ban","ti-xs"],["type","button",1,"btn","btn-success","waves-effect","waves-light",3,"disabled","click"],["type","text","hidden","","formControlName","id"],["type","button","class","btn btn-primary waves-effect waves-light",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"disabled","click"]],template:function(t,r){1&t&&(e.YNc(0,A,5,0,"div",0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,J,41,10,"form",3),e.YNc(4,B,31,4,"form",3),e.qZA()()),2&t&&(e.Q6J("ngIf",r.loader),e.xp6(3),e.Q6J("ngIf",!r.data),e.xp6(1),e.Q6J("ngIf",r.data))},dependencies:[m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),s})();function Q(s,o){1&s&&(e.TgZ(0,"div",16)(1,"div",17)(2,"div",18),e._UZ(3,"span")(4,"span"),e.qZA()()())}function M(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," The Email Is Required! "),e.qZA())}function O(s,o){if(1&s&&(e.TgZ(0,"div",5)(1,"label",19),e._uU(2,"Email"),e.qZA(),e.TgZ(3,"div",7)(4,"span",20),e._UZ(5,"i",21),e.qZA(),e._UZ(6,"input",22),e.TgZ(7,"span",23),e._uU(8,"@example.com"),e.qZA()(),e.YNc(9,M,4,0,"div",11),e.qZA()),2&s){const t=e.oxw();let r;e.xp6(9),e.Q6J("ngIf",(null==(r=t.resetForm.get("email"))?null:r.touched)&&(null==(r=t.resetForm.get("email"))?null:r.invalid))}}function E(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," The New Password Is Required! "),e.qZA())}function S(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must be at least 6 characters. "),e.qZA())}function D(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must have at least one uppercase ('A'-'Z'). "),e.qZA())}function G(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must have at least one lowercase ('a'-'z'). "),e.qZA())}function L(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," The Confirm Password Is Required! "),e.qZA())}function j(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must be at least 6 characters. "),e.qZA())}function z(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must have at least one uppercase ('A'-'Z'). "),e.qZA())}function H(s,o){1&s&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"i",26),e.qZA(),e._uU(3," Passwords must have at least one lowercase ('a'-'z'). "),e.qZA())}let K=(()=>{class s{constructor(t,r,n,d,a,l){this.fb=t,this.serv=r,this.data=n,this.toaster=d,this.dialog=a,this.matDialog=l,this.loader=!1,this.visible=!0,this.changetype=!0,this.visiblee=!0,this.changetypee=!0}ngOnInit(){this.createFormReset()}createFormReset(){this.resetForm=this.fb.group({email:[this.data?.email||"",[i.kI.required,i.kI.email]],newPassword:["",[i.kI.required,this.passwordValidator]],confirmPassword:["",[i.kI.required,this.passwordValidator]]})}passwordValidator(t){const r=t.value;if(!r)return{required:!0};const n=r.length>=6,d=/[A-Z]/.test(r),a=/[a-z]/.test(r),l={};return n||(l.minLength=!0),d||(l.upperCase=!0),a||(l.lowerCase=!0),Object.keys(l).length?l:null}viewpass(){this.visible=!this.visible,this.changetype=!this.changetype}viewpasss(){this.visiblee=!this.visiblee,this.changetypee=!this.changetypee}resestPasswordUser(){if(this.resetForm.get("newPassword")?.value!==this.resetForm.get("confirmPassword")?.value){this.toaster.error("Please new password is not equal to confirm password","",{closeButton:!0,progressBar:!0,timeOut:3e3});let t=new Audio("../../../assets/notification-sound/login.wav");return t.load(),void t.play()}this.loader=!0,this.serv.resestPasswordUser(this.resetForm.value).subscribe(t=>{this.dialog.close(!0),this.loader=!1;let r=new Audio("../../../assets/notification-sound/login.wav");r.load(),r.play(),this.toaster.success("Reset Password successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3})},t=>{this.loader=!1,this.toaster.error(t?.error?.data||"An error occurred","",{closeButton:!0,progressBar:!0,timeOut:3e3})})}close(){this.matDialog.closeAll()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(i.qu),e.Y36(h),e.Y36(c.WI),e.Y36(b._W),e.Y36(c.so),e.Y36(c.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-resetpassword"]],decls:32,vars:16,consts:[["class","preloader",4,"ngIf"],[1,"col-md-12"],[1,"card","mb-4",2,"height","300px"],[1,"card-body",3,"formGroup"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","password",1,"form-label"],[1,"input-group","input-group-merge"],["formControlName","newPassword","id","password","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","password",1,"form-control",3,"type"],[1,"input-group-text","cursor-pointer",3,"click"],[2,"font-size","17px",3,"ngClass"],["class","alert alert-danger d-flex align-items-center","role","alert",4,"ngIf"],["formControlName","confirmPassword","id","password","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7","aria-describedby","password",1,"form-control",3,"type"],[1,"col-sm-12"],["type","button",1,"btn","btn-success","waves-effect","waves-light",3,"disabled","click"],["type","reset",1,"btn","btn-danger","waves-effect","waves-light",2,"margin","0px 20px",3,"click"],[1,"preloader"],[1,"preloader-inner"],[1,"preloader-icon"],["for","basic-icon-default-email",1,"form-label"],[1,"input-group-text"],[1,"ti","ti-mail"],["formControlName","email","type","email","id","basic-icon-default-email","placeholder","Enter The Email","aria-label","john.doe","aria-describedby","basic-icon-default-email2",1,"form-control"],["id","basic-icon-default-email2",1,"input-group-text"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center"],[1,"alert-icon","text-danger","me-2"],[1,"ti","ti-ban","ti-xs"]],template:function(t,r){if(1&t&&(e.YNc(0,Q,5,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3),e.YNc(4,O,10,1,"div",4),e.TgZ(5,"div",5)(6,"label",6),e._uU(7,"New Password"),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.TgZ(10,"span",9),e.NdJ("click",function(){return r.viewpass()}),e._UZ(11,"i",10),e.qZA()(),e.YNc(12,E,4,0,"div",11),e.YNc(13,S,4,0,"div",11),e.YNc(14,D,4,0,"div",11),e.YNc(15,G,4,0,"div",11),e.qZA(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18,"Confirm Password"),e.qZA(),e.TgZ(19,"div",7),e._UZ(20,"input",12),e.TgZ(21,"span",9),e.NdJ("click",function(){return r.viewpasss()}),e._UZ(22,"i",10),e.qZA()(),e.YNc(23,L,4,0,"div",11),e.YNc(24,j,4,0,"div",11),e.YNc(25,z,4,0,"div",11),e.YNc(26,H,4,0,"div",11),e.qZA(),e.TgZ(27,"div",13)(28,"button",14),e.NdJ("click",function(){return r.resestPasswordUser()}),e._uU(29,"Add"),e.qZA(),e.TgZ(30,"button",15),e.NdJ("click",function(){return r.close()}),e._uU(31,"Cancel"),e.qZA()()()()()),2&t){let n,d,a,l,p,g,f,_,Z;e.Q6J("ngIf",r.loader),e.xp6(3),e.Q6J("formGroup",r.resetForm),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(5),e.Q6J("type",r.changetype?"password":"text"),e.xp6(2),e.Q6J("ngClass",r.visible?"ti ti-eye-off":"ti ti-eye"),e.xp6(1),e.Q6J("ngIf",(null==(n=r.resetForm.get("newPassword"))?null:n.touched)&&(null==(n=r.resetForm.get("newPassword"))||null==n.errors?null:n.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(d=r.resetForm.get("newPassword"))?null:d.touched)&&(null==(d=r.resetForm.get("newPassword"))||null==d.errors?null:d.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(a=r.resetForm.get("newPassword"))?null:a.touched)&&(null==(a=r.resetForm.get("newPassword"))||null==a.errors?null:a.errors.upperCase)),e.xp6(1),e.Q6J("ngIf",(null==(l=r.resetForm.get("newPassword"))?null:l.touched)&&(null==(l=r.resetForm.get("newPassword"))||null==l.errors?null:l.errors.lowerCase)),e.xp6(5),e.Q6J("type",r.changetypee?"password":"text"),e.xp6(2),e.Q6J("ngClass",r.visiblee?"ti ti-eye-off":"ti ti-eye"),e.xp6(1),e.Q6J("ngIf",(null==(p=r.resetForm.get("confirmPassword"))?null:p.touched)&&(null==(p=r.resetForm.get("confirmPassword"))||null==p.errors?null:p.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(g=r.resetForm.get("confirmPassword"))?null:g.touched)&&(null==(g=r.resetForm.get("confirmPassword"))||null==g.errors?null:g.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(f=r.resetForm.get("confirmPassword"))?null:f.touched)&&(null==(f=r.resetForm.get("confirmPassword"))||null==f.errors?null:f.errors.upperCase)),e.xp6(1),e.Q6J("ngIf",(null==(_=r.resetForm.get("confirmPassword"))?null:_.touched)&&(null==(_=r.resetForm.get("confirmPassword"))||null==_.errors?null:_.errors.lowerCase)),e.xp6(2),e.Q6J("disabled",r.resetForm.invalid&&(null==(Z=r.resetForm.get("password"))?null:Z.value)!==(null==(Z=r.resetForm.get("confirmPassword"))?null:Z.value))}},dependencies:[m.mk,m.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),s})();function W(s,o){1&s&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div",14),e._UZ(3,"span")(4,"span"),e.qZA()()())}function V(s,o){if(1&s&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"input",21),e.TgZ(3,"label",22),e._uU(4),e.qZA()()()),2&s){const t=o.$implicit,r=o.index;e.xp6(2),e.Q6J("id","module_"+t.id)("formControlName",r),e.xp6(1),e.Q6J("for","module_"+t.id),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function $(s,o){if(1&s&&(e.TgZ(0,"tr",15)(1,"td",16),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e.YNc(4,V,5,4,"div",18),e.qZA()()),2&s){const t=o.$implicit,r=o.index;e.xp6(2),e.Oqu(t.partitionName),e.xp6(1),e.Q6J("formGroupName",r),e.xp6(1),e.Q6J("ngForOf",t.permissionsLis)}}let X=(()=>{class s{constructor(t,r,n,d,a,l){this.fb=t,this.serv=r,this.data=n,this.toaster=d,this.dialog=a,this.matDialog=l,this.tenanstModule=[],this.showTenanstModule=[],this.loader=!1,this.selectedPermissions=[]}ngOnInit(){this.createFormEdit(),this.getAllTenantsModulePermissions()}createFormEdit(){this.formEdit=this.fb.group({userId:[this.data?.userId||"",i.kI.required],apiPermissionIds:this.fb.array(this.tenanstModule.map(t=>this.fb.array(t.permissionsLis.map(()=>this.fb.control(!1)))))})}getAllTenantsModulePermissions(){this.loader=!0,this.serv.getAllTenantModulesPermissions().subscribe(t=>{this.tenanstModule=t.data.modulePartitions,this.loader=!1,this.createFormEdit(),console.log(this.tenanstModule)},t=>{this.loader=!1})}update(){if(this.loader=!0,!this.formEdit)return;const n={apiPermissionIds:this.formEdit.value.apiPermissionIds.flatMap((d,a)=>d.map((l,p)=>l?this.tenanstModule[a].permissionsLis[p].id:null).filter(l=>null!==l)),userId:this.formEdit.value.userId};this.serv.ModifyUserPermissions(n).subscribe(d=>{this.dialog.close(!0),this.loader=!1;let a=new Audio;a.src="../../../assets/notification-sound/login.wav",a.load(),a.play(),this.toaster.success("updated successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3})},d=>{this.loader=!1})}close(){this.matDialog.closeAll()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(i.qu),e.Y36(h),e.Y36(c.WI),e.Y36(b._W),e.Y36(c.so),e.Y36(c.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-modify-user-permissions"]],decls:17,vars:3,consts:[["class","preloader",4,"ngIf"],[1,"col-md-12"],[1,"card","mb-4",2,"height","620px"],[1,"card-body",3,"formGroup"],["type","text","hidden","","formControlName","userId"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-flush-spacing"],["formArrayName","apiPermissionIds",4,"ngFor","ngForOf"],[1,"col-sm-12",2,"margin-top","23px","text-align","center"],["type","button",1,"btn","btn-success","waves-effect","waves-light",3,"click"],["type","reset",1,"btn","btn-danger","waves-effect","waves-light",2,"margin","0px 20px",3,"click"],[1,"preloader"],[1,"preloader-inner"],[1,"preloader-icon"],["formArrayName","apiPermissionIds"],[1,"text-nowrap","fw-semibold"],[3,"formGroupName"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"form-check","me-3","me-lg-5"],["type","checkbox","id","userManagementRead",1,"form-check-input",3,"id","formControlName"],["for","userManagementRead",1,"form-check-label",3,"for"]],template:function(t,r){1&t&&(e.YNc(0,W,5,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3),e._UZ(4,"input",4),e.TgZ(5,"div",5)(6,"h5"),e._uU(7,"Role Permissions"),e.qZA(),e.TgZ(8,"div",6)(9,"table",7)(10,"tbody"),e.YNc(11,$,5,3,"tr",8),e.qZA()()()(),e.TgZ(12,"div",9)(13,"button",10),e.NdJ("click",function(){return r.update()}),e._uU(14,"Update"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return r.close()}),e._uU(16,"Cancel"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",r.loader),e.xp6(3),e.Q6J("formGroup",r.formEdit),e.xp6(8),e.Q6J("ngForOf",r.tenanstModule))},dependencies:[m.sg,m.O5,i._Y,i.Fj,i.Wl,i.JJ,i.JL,i.sg,i.u,i.x0,i.CE]}),s})();var ee=u(7078),te=u(8372);function se(s,o){1&s&&e._UZ(0,"app-loader")}function re(s,o){1&s&&(e.TgZ(0,"td",28),e._uU(1,"No Data"),e.qZA())}function oe(s,o){if(1&s&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&s){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.phoneNumber)}}function ne(s,o){1&s&&(e.TgZ(0,"td",28),e._uU(1,"No Data"),e.qZA())}function ie(s,o){1&s&&(e.TgZ(0,"td",28)(1,"span",44),e._uU(2,"Active"),e.qZA()())}function ae(s,o){1&s&&(e.TgZ(0,"td",28)(1,"span",45),e._uU(2,"Inactive"),e.qZA()())}function le(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"tr",26),e._UZ(1,"td",27),e.TgZ(2,"td",28)(3,"div",29)(4,"div",30)(5,"div",31),e._UZ(6,"span",32),e.qZA()(),e.TgZ(7,"div",33)(8,"span",34),e._uU(9),e.qZA()()()(),e.TgZ(10,"td",28),e._uU(11),e.qZA(),e.YNc(12,re,2,0,"td",35),e.YNc(13,oe,2,1,"td",35),e.YNc(14,ne,2,0,"td",35),e.YNc(15,ie,3,0,"td",35),e.YNc(16,ae,3,0,"td",35),e.TgZ(17,"td",28)(18,"div",36)(19,"a",37),e._UZ(20,"i",38),e.qZA(),e.TgZ(21,"ul",39)(22,"li")(23,"a",40),e.NdJ("click",function(){const d=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openUpdateFormRegsiter(d))}),e._uU(24,"Edit Tenant User"),e.qZA()(),e.TgZ(25,"li")(26,"a",41),e.NdJ("click",function(){const d=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openUpdateFormResetPassword(d))}),e._uU(27,"Reset Password"),e.qZA()(),e.TgZ(28,"li")(29,"a",42),e.NdJ("click",function(){const d=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.modifyUserPermissions(d))}),e._uU(30,"Edit User Permissions"),e.qZA()(),e._UZ(31,"div",43),e.qZA()()()()}if(2&s){const t=o.$implicit;e.xp6(9),e.hij(" ",null==t?null:t.userName," "),e.xp6(2),e.Oqu(null==t?null:t.email),e.xp6(1),e.Q6J("ngIf",""===(null==t?null:t.email)),e.xp6(1),e.Q6J("ngIf",""!==(null==t?null:t.phoneNumber)),e.xp6(1),e.Q6J("ngIf",""==(null==t?null:t.phoneNumber)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.isActive),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isActive))}}const de=[{path:"",component:(()=>{class s{constructor(t,r,n){this.serv=t,this.dialog=r,this.toaster=n,this.loader=!1,this.tenanst=[],this.roles=[],this.selectedRole="",this.dtOptions={},this.dtTrigger=new U.x}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:10,searching:!0},this.dtTrigger.next(null),this.getAllTenantUser()}getAllTenantUser(){this.loader=!0,this.serv.getAllTenantsUser().subscribe(t=>{this.tenanst=t.data,this.loader=!1,this.dtTrigger.next(null),this.ngOnDestroy()},t=>{this.loader=!1,this.dtTrigger.next(null),this.ngOnDestroy()})}ngOnDestroy(){this.dtTrigger.unsubscribe()}openFormRegsiter(){this.dialog.open(T,{width:"750px",height:"60%",disableClose:!0}).afterClosed().subscribe(r=>{1==r&&(this.getAllTenantUser(),this.ngOnDestroy())})}openUpdateFormRegsiter(t){this.dialog.open(T,{width:"750px",height:"60%",disableClose:!0,data:t}).afterClosed().subscribe(n=>{1==n&&(this.getAllTenantUser(),this.ngOnDestroy())})}openUpdateFormResetPassword(t){this.dialog.open(K,{width:"500px",height:"35%",disableClose:!0,data:t}).afterClosed().subscribe(n=>{1==n&&(this.getAllTenantUser(),this.ngOnDestroy())})}modifyUserPermissions(t){this.dialog.open(X,{width:"500px",height:"35%",disableClose:!0,data:t}).afterClosed().subscribe(n=>{1==n&&(this.getAllTenantUser(),this.ngOnDestroy())})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h),e.Y36(c.uw),e.Y36(b._W))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-showtenant"]],decls:38,vars:4,consts:[[4,"ngIf"],[1,"layout-wrapper","layout-content-navbar"],[1,"layout-container"],[1,"layout-page"],[1,"content-wrapper"],[1,"container-xxl","flex-grow-1","container-p-y"],[1,"fw-bold","py-3","mb-4"],[1,"text-muted","fw-light"],[1,"card"],[1,"card-datatable","table-responsive","pt-0"],["id","DataTables_Table_0_wrapper",1,"dataTables_wrapper","dt-bootstrap5","no-footer"],[1,"card-header","flex-column","flex-md-row"],[1,"head-label","text-center"],[1,"card-title","mb-0"],["tabindex","0","aria-controls","DataTables_Table_0","type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasAddUser",1,"dt-button","add-new","btn","btn-primary",3,"click"],[1,"ti","ti-plus","me-0","me-sm-1","ti-xs"],[1,"d-none","d-sm-inline-block"],[1,"row"],["datatable","","id","DataTables_Table_0","aria-describedby","DataTables_Table_0_info",1,"datatables-users","table","border-top","dataTable","no-footer","dtr-column",2,"width","1214px",3,"dtOptions","dtTrigger"],["rowspan","1","colspan","1","aria-label","",1,"control","sorting_disabled","dtr-hidden",2,"width","0px","display","none"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Name: activate to sort column ascending",1,"sorting",2,"width","fit-content","padding","10px 30px"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Email: activate to sort column ascending",1,"sorting",2,"width","260px"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Date: activate to sort column ascending",1,"sorting",2,"width","89px"],["tabindex","0","aria-controls","DataTables_Table_0","rowspan","1","colspan","1","aria-label","Status: activate to sort column ascending",1,"sorting",2,"width","105px"],["rowspan","1","colspan","1","aria-label","Actions",1,"sorting_disabled",2,"width","77px"],["class","odd",4,"ngFor","ngForOf"],[1,"odd"],["tabindex","0",1,"control","dtr-hidden",2,"display","none"],[1,""],[1,"d-flex","justify-content-start","align-items-center","user-name"],[1,"avatar-wrapper"],[1,"avatar","me-2"],[1,"avatar-initial","rounded-circle","bg-label-primary"],[1,"d-flex","flex-column"],[1,"emp_name","text-truncate"],["class","",4,"ngIf"],[1,"d-inline-block"],["href","javascript:;","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-icon","dropdown-toggle","hide-arrow"],[1,"text-primary","ti","ti-dots-vertical"],[1,"dropdown-menu","dropdown-menu-end","m-0"],[1,"dropdown-item","badge","bg-label-primary",2,"cursor","pointer",3,"click"],[1,"dropdown-item","badge","bg-label-info",2,"cursor","pointer",3,"click"],[1,"dropdown-item","badge","bg-label-secondary",2,"cursor","pointer",3,"click"],[1,"dropdown-divider"],[1,"badge","bg-label-success"],[1,"badge","bg-label-danger"]],template:function(t,r){1&t&&(e.YNc(0,se,1,0,"app-loader",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"span",7),e._uU(8,"Show Data "),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"h5",13),e._uU(15,"Data Table with AllTenants"),e.qZA()(),e.TgZ(16,"button",14),e.NdJ("click",function(){return r.openFormRegsiter()}),e.TgZ(17,"span"),e._UZ(18,"i",15),e.TgZ(19,"span",16),e._uU(20,"Add New User"),e.qZA()()()(),e._UZ(21,"div",17),e.TgZ(22,"table",18)(23,"thead")(24,"tr"),e._UZ(25,"th",19),e.TgZ(26,"th",20),e._uU(27,"User Name"),e.qZA(),e.TgZ(28,"th",21),e._uU(29,"Email"),e.qZA(),e.TgZ(30,"th",22),e._uU(31,"Phone Number"),e.qZA(),e.TgZ(32,"th",23),e._uU(33,"Status"),e.qZA(),e.TgZ(34,"th",24),e._uU(35," Actions"),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,le,32,7,"tr",25),e.qZA()()()()()()()()()()),2&t&&(e.Q6J("ngIf",r.loader),e.xp6(22),e.Q6J("dtOptions",r.dtOptions)("dtTrigger",r.dtTrigger),e.xp6(15),e.Q6J("ngForOf",r.tenanst))},dependencies:[m.sg,m.O5,ee.G,te.R]}),s})()}];let ue=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[w.Bz.forChild(de),w.Bz]}),s})();var pe=u(3861),ce=u(8395);let me=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.ez,ue,pe.T,ce.m,c.Is]}),s})()}}]);